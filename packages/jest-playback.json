{"name":"jest-playback","version":"1.0.0","description":"Record and playback http requests from your Jest tests","keywords":["jest","nock","playback","record","request"],"main":"lib/index.js","types":"lib/index.d.ts","repository":"https://github.com/ikatyang/jest-playback","homepage":"https://github.com/ikatyang/jest-playback#readme","license":"MIT","scripts":{"link":"ln -sf $PWD/types/* $PWD/node_modules/@types","prepublish":"yarn run link && yarn run build","lint":"tslint -p ./tsconfig.json --type-check -t stylish","test":"jest --config ./jest.json","prebuild":"rm -rf ./lib","build":"tsc -p tsconfig.build.json"},"dependencies":{"glob":"^7.1.2","lodash":"^4.17.4","make-dir":"^1.0.0","nock":"^9.0.13","rev-hash":"^2.0.0"},"devDependencies":{"@types/del":"2.2.32","@types/glob":"5.0.30","@types/jest":"20.0.2","@types/lodash":"4.14.68","@types/nock":"8.2.1","@types/node":"8.0.11","@types/request":"0.0.46","del":"3.0.0","jest":"20.0.4","request":"2.81.0","ts-jest":"20.0.7","tslint":"5.5.0","tslint-config-ikatyang":"0.10.0","typescript":"2.4.1"},"engines":{"node":">= 4"},"files":["/lib/**/*"],"gitHead":"6f7c791814bf97ab97d3add39d67e81c7238ccee","versions":[{"number":"1.0.0","date":"2017-07-13T12:31:49.959Z"}],"readme":"# jest-playback\n\n[![npm](https://img.shields.io/npm/v/jest-playback.svg)](https://www.npmjs.com/package/jest-playback)\n[![build](https://img.shields.io/travis/ikatyang/jest-playback/master.svg)](https://travis-ci.org/ikatyang/jest-playback/builds)\n[![greenkeeper](https://badges.greenkeeper.io/ikatyang/jest-playback.svg)](https://greenkeeper.io/)\n\nRecord and playback http requests from your [Jest](https://facebook.github.io/jest/) tests\n\n[Changelog](https://github.com/ikatyang/jest-playback/blob/master/CHANGELOG.md)\n\n## Install\n\n```sh\n# using npm\nnpm install --save jest-playback\n\n# using yarn\nyarn add jest-playback\n```\n## Usage\n\nModify your [Jest config](https://facebook.github.io/jest/docs/en/configuration.html) so that looks something like:\n\n(./package.json)\n\n```json\n{\n  \"scripts\": {\n    \"test\": \"jest\"\n  },\n  \"jest\": {\n    \"reporters\": [\n      \"default\",\n      \"jest-playback\"\n    ]\n  }\n}\n```\n\nIf you just want to record requests:\n\n```sh\nJEST_PLAYBACK_MODE=record npm run test\n```\n\nIf you just want to playback records:\n\n```sh\nJEST_PLAYBACK_MODE=play npm run test\n```\n\n**NOTE** The default mode is `run`, which will playback records and still allow unmocked requests.\n\n## Modes\n\n- run\n  - play records\n  - enable net connet\n\n- play\n  - play records\n  - disable net connet\n\n- record\n  - enable net connect\n  - record all requests\n\n- real\n  - enable net connect\n\n## Configs\n\nconfigs are in the reporter's second field:\n\n```json\n{\n  \"jest\": {\n    \"reporters\": [\n      \"default\",\n      [\"jest-playback\", {\"option\": \"value\"}]\n    ]\n  }\n}\n```\n\n- debug\n  - type: boolean\n  - default: `false`\n  - display debug message\n\n- playbacks\n  - type: string\n  - default: `<rootDir>/playbacks`\n  - specify directory to store records\n\n- mode\n  - type: string\n  - default: `run`\n  - specify which [mode](#modes) to use\n\n- mode_env\n  - type: string\n  - default: `JEST_PLAYBACK_MODE`\n  - specify what environment variable to be used as mode, has higher priority than `mode`\n\n## Development\n\n```sh\n# lint\nyarn run lint\n\n# build\nyarn run build\n\n# test\nyarn run test\n```\n\n## Related\n- [nock](https://github.com/node-nock/nock): HTTP mocking and expectations library\n- [ava-playback](https://github.com/dempfi/ava-playback): Record and playback http requests from your ava tests\n\n## License\n\nMIT Â© [Ika](https://github.com/ikatyang)\n","created":"2017-07-13T12:31:49.959Z","modified":"2017-07-13T12:31:49.959Z","lastPublisher":{"name":"ikatyang","email":"ikatyang@gmail.com"},"owners":[{"name":"ikatyang","email":"ikatyang@gmail.com"}],"other":{"_attachments":{},"_id":"jest-playback","_nodeVersion":"8.1.3","_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/jest-playback-1.0.0.tgz_1499949109867_0.4972381398547441"},"_npmUser":{"name":"ikatyang","email":"ikatyang@gmail.com"},"_npmVersion":"5.1.0","_rev":"1-8dc5e247ec80380dc8dd156df5d68c69","author":{"name":"Ika","email":"ikatyang@gmail.com","url":"https://github.com/ikatyang"},"bugs":{"url":"https://github.com/ikatyang/jest-playback/issues"},"directories":{},"dist-tags":{"latest":"1.0.0"},"dist":{"integrity":"sha512-GQ0xOXgOFk5eAdnkl7Fnzytz80Gq7iv3wyokhLJw8EJ5k03bc1XYHmlnGTjkYUaGn5j6kcN4Kt4HDDDsAc33Tw==","shasum":"e55a39f14f23d8b988f27e4471700b3f5f96fdd7","tarball":"https://registry.npmjs.org/jest-playback/-/jest-playback-1.0.0.tgz"},"maintainers":[{"name":"ikatyang","email":"ikatyang@gmail.com"}],"readmeFilename":"README.md","time":{"modified":"2017-07-13T12:31:49.959Z","created":"2017-07-13T12:31:49.959Z","1.0.0":"2017-07-13T12:31:49.959Z"}}}