{"name":"imitation","version":"1.2.0","description":"A few testing helpers for mocking","main":"index.js","scripts":{"test":"NODE_ENV=test ava --serial"},"repository":"https://github.com/nathanhoad/imitation","keywords":["testing","mocking"],"license":"ISC","homepage":"https://github.com/nathanhoad/imitation#readme","devDependencies":{"ava":"^0.20.0"},"dependencies":{"jsdom":"^11.1.0","nock":"^9.0.13","redux":"^3.7.1","redux-mock-store":"^1.2.3","redux-thunk":"^2.2.0"},"gitHead":"16523ce2ca4a2344784ca7e4fd22fccb0c81c97f","versions":[{"number":"1.0.0","date":"2017-07-10T01:05:53.929Z"},{"number":"1.0.1","date":"2017-07-10T01:22:09.266Z"},{"number":"1.1.0","date":"2017-07-17T06:09:11.483Z"},{"number":"1.2.0","date":"2017-07-28T06:16:51.497Z"}],"readme":"# Imitation\n\nA few mocking helpers for testing.\n\n\n# Usage\n\nThe most common use of Imitation is when you are testing React components that `require` css and/or images.\n\nImages will resolve as just their path and CSS files will resolve as a Proxy object that returns any custom property as \njust the name of the property.\n\n```javascript\nconst { mockDOM, unmockDOM, mockAssets, unmockAssets } = require('imitation');\nconst { test } = require('ava');\nconst { shallow } = require('enzyme');\n\nvar Thing;\n\ntest.beforeEach(t => {\n    mockAssets();\n    mockDOM();\n    \n    Thing = require('../components/thing'); // Thing uses require for images and css\n});\n\n\ntest.afterEach(t => {\n    unmockDOM();\n    unmockAssets();\n});\n\n\ntest(\"It renders\", t => {\n    let component = shallow(<Thing />);\n    \n    // Assert something\n    // ...\n});\n```\n\nYou can also mock a Redux Store and URLs when testing Redux Actions:\n\n```javascript\nconst { mockStore, mockURL, unmockURLs, mockDOM, mockAssets } = require('imitation');\nconst Immutable = require('immutable');\nconst { test } = require('ava');\n\nvar ThingActions;\nvar store;\nvar URL;\n\ntest.beforeEach(t => {\n    URL = 'http://test.com';\n    mockDOM(URL);\n    \n    ThingActions = require('../actions/thing-actions');\n    store = mockStore(Immutable.fromJS({\n        things: []\n    }));\n});\n\n\ntest.afterEach(t => {\n    unmockURLs();\n    unmockDOM();\n});\n\n\ntest('It can create a thing', t => {\n    mockURL(URL).post('/api/v1/things').reply(200, {});\n    \n    return store.dispatch(ThingActions.createThing({ name: 'Whatsit' })).then(() => {\n        let actions = store.getActions();\n        \n        t.is(actions[0].type, ThingActions.CREATED_THING);\n    });\n});\n```\n","created":"2017-07-10T01:05:53.929Z","modified":"2017-07-28T06:16:51.497Z","lastPublisher":{"name":"nathanhoad","email":"nathan@nathanhoad.net"},"owners":[{"name":"nathanhoad","email":"nathan@nathanhoad.net"}],"other":{"_attachments":{},"_id":"imitation","_nodeVersion":"8.2.1","_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/imitation-1.2.0.tgz_1501222611368_0.2852946911007166"},"_npmUser":{"name":"nathanhoad","email":"nathan@nathanhoad.net"},"_npmVersion":"5.3.0","_rev":"4-5d144a8418fead71f7a6354680e6cfad","author":{"name":"Nathan Hoad"},"bugs":{"url":"https://github.com/nathanhoad/imitation/issues"},"directories":{},"dist-tags":{"latest":"1.2.0"},"dist":{"integrity":"sha512-qa+0ccEhGoW35AbxAHITgG/W2xagvyZjInILy8K4AugprS12y6/U2ya+DDTJlYXssk8+A+Qdca6HjlV+aklHVw==","shasum":"5c107747fb905f92a5d8e8978dd0753d5e4b7023","tarball":"https://registry.npmjs.org/imitation/-/imitation-1.2.0.tgz"},"maintainers":[{"name":"nathanhoad","email":"nathan@nathanhoad.net"}],"readmeFilename":"README.md","time":{"modified":"2017-07-28T06:16:51.497Z","created":"2017-07-10T01:05:53.929Z","1.0.0":"2017-07-10T01:05:53.929Z","1.0.1":"2017-07-10T01:22:09.266Z","1.1.0":"2017-07-17T06:09:11.483Z","1.2.0":"2017-07-28T06:16:51.497Z"}}}