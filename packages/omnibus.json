{"name":"omnibus","version":"0.1.5","description":"A hybrid web service/node module that provides a clean API for accessing data concerning the activities of the US Congress.","scripts":{"start":"node ./bin/www","test":"gulp test","coveralls":"cat ./coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js && rm -rf ./coverage"},"repository":"https://github.com/omnibus-app/omnibus-backend","dependencies":{"bluebird":"^2.2.2","body-parser":"~1.0.0","chai":"^1.9.1","cookie-parser":"~1.0.1","cors":"^2.4.1","coveralls":"^2.11.1","debug":"~0.7.4","express":"~4.0.0","gulp":"^3.8.7","gulp-istanbul":"^0.2.1","gulp-jshint":"^1.8.4","gulp-mocha":"^0.5.2","jade":"~1.3.0","jshint-stylish":"^0.4.0","mocha":"^1.21.3","mocha-lcov-reporter":"0.0.1","morgan":"~1.0.0","nock":"^0.44.0","nyt-congress-node":"git+https://github.com/omnibus-app/nyt-congress-node","redis":"^0.11.0","request":"^2.39.0","rewire":"^2.1.0","sinon":"^1.10.3","sinon-chai":"^2.5.0","static-favicon":"~1.0.0","sunlight-congress-api":"git+https://github.com/omnibus-app/sunlight-congress-api"},"devDependencies":{"chai":"^1.9.1","coveralls":"^2.11.1","gulp":"^3.8.7","gulp-istanbul":"^0.2.1","gulp-mocha":"^0.5.2","jshint":"^2.5.2","mocha":"^1.21.3","mocha-lcov-reporter":"0.0.1","nock":"^0.44.1","rewire":"^2.1.0","sinon":"^1.10.3","sinon-chai":"^2.5.0"},"main":"./api","gitHead":"7e2d3822d8ab46fa0cd5369472b29518dc9f81b6","homepage":"https://github.com/omnibus-app/omnibus-backend","versions":[{"number":"0.0.0","date":"2014-08-14T22:28:22.162Z"},{"number":"0.1.0","date":"2014-08-21T22:20:49.239Z"},{"number":"0.1.1","date":"2014-08-21T22:40:27.141Z"},{"number":"0.1.2","date":"2014-08-21T23:17:54.885Z"},{"number":"0.1.31","date":"2014-08-22T03:43:10.114Z"},{"number":"0.1.311","date":"2014-08-22T18:06:22.831Z"},{"number":"0.1.4","date":"2014-08-23T03:09:45.045Z"},{"number":"0.1.5","date":"2014-08-25T22:18:47.520Z"}],"readme":"# Omnibus\n\n[![Build Status](https://img.shields.io/travis/omnibus-app/omnibus-backend.svg?style=flat)](https://travis-ci.org/omnibus-app/omnibus-backend)\n[![Coverage Status](https://img.shields.io/coveralls/omnibus-app/omnibus-backend.svg?style=flat)](https://coveralls.io/r/omnibus-app/omnibus-backend)\n\n[![NPM](https://nodei.co/npm/omnibus.png?compact=true)](https://nodei.co/npm/omnibus/)\n\n> Omnibus is a hybrid web service/node module that provides a clean API for accessing data on activities of the US Congress.\n\n- <a href='#using-omnibus'>Using Omnibus</a>\n  - <a href=\"#deploying-as-a-web-service\">Deploying as a web service</a>\n  - <a href=\"#requiring-as-a-node-module\">Requiring as a Node module</a>\n  - <a href=\"#using-as-an-express-router\">Using as an Express router</a>\n- <a href=\"#api\">API</a>\n  - <a href=\"#bills-api\">Bills API</a>\n  - <a href=\"#congress-api\">Congress API</a>\n  - <a href=\"#votes-api\">Votes API</a>\n- <a href=\"#configuration\">Configuration</a>\n\n## Using Omnibus\nOmnibus is extremely versatile. It can be run as a standalone web service, incorporated as router into another Express app, or required as a node module and used through it's API directly. It can even run in the browser. Omnibus is in active development. If you'd like to see a specific endpoint added, open an issue, or better yet, a pull request. \n\n### Deploying as a web service\nOmnibus includes a deployable [Express](expressjs.com) application. The app exposes an HTTP interface that mirrors the JavaScript API.\n\n```sh\ngit clone https://github.com/omnibus-app/omnibus\ncd omnibus && npm start\ncurl -X GET localhost:3000/api/bills/113-hr2397\n```\n\nThe web service includes optional support for a Redis cache that can be used to dramatically speed up the response time of repeated requests.\n\n### Requiring as a Node module\nOmnibus exposes a JavaScript API; simply `require()` the module.\n\n```js\nvar omnibus = require( 'omnibus' );\nomnibus.bills( '113-HR2397' ).versions().then( /* etc */ );\n```\n\nWe haven't tested it in the browser extensively but it seems to work great with [Browserify](http://browserify.org/). Yep, it's both a deployable web service and a client-side library.\n\n### Using as an Express router\nFinally, Omnibus provides access to its application router. This allows an existing Express application to incorporate the HTTP interface.\n\n```js\napp.use( '/omnibus/', require( 'omnibus/router' ) );\n```\n\n## API\nOmnibus was initially developed as a RESTful web service. A typical URL might look like this\n\n```\n/bills/:id/version\n```\n\nIn exposing the underlying JavaScript API, we sought to provide an interface similar to the REST routes.\n\n```\n// REST endpoint\nbills/:id/version\n\n// JS\nomnibus.bills(id).version();\n\n// REST endpoint\nbills/search?q='searchString'\n\n// jS\nomnibus.bills().search('searchString');\n```\n\nAll JS examples assume that Omnibus is available as `var omnibus = require( 'omnibus' )`. All methods return promises - Omnibus uses [Bluebird]() interally. The REST endpoints assume that the router is serving at `/api`. \n\n\n## Configuration\nOmnibus uses the [New York Times Congress API](http://developer.nytimes.com/docs/read/congress_api) and the [Sunlight Congress API](https://sunlightlabs.github.io/congress/), which require API keys. You'll need to get keys and configure Omnibus with them before use.\n\nWhen deploying as a web service you should make them available under `process.env.NYT_CONGRESS_KEY` and `process.env.SUNLIGHT_CONGRESS_KEY` respectively. When using the JavaScript API directly, you can set configuration parameters like so:\n\n```js\nomnibus.config.set({\n  'NYT_CONGRESS_KEY': 'your_nyt_key',\n  'SUNLIGHT_CONGRESS_KEY': 'your_sunlight_key'\n})\n```\n\n### Bills API\nThe bills API supports methods/endpoints for amendments, general info, text search, subjects, versions, and votes.\n\n#### Amendments\nJavaScript\n```js\nomnibus.bills(billId).amendments()\n```\n\nHTTP\n```\n/api/bills/:id/amendments\n```\n\n#### Details\nJavaScript\n```js\nomnibus.bills(billId).details()\n```\n\nHTTP\n```\n/api/bills/:id\n```\n\n#### Search\nJavaScript\n```js\nomnibus.bills().search('obamacare');\n```\n\nHTTP\n```\n/api/bills?q=obamacare\n```\n\n#### Subjects\nJavaScript\n```js\nomnibus.bills(billId).subjects()\n```\n\nHTTP\n```\n/api/bills/:id/subjects\n```\n\n#### Versions\nJavaScript\n```js\nomnibus.bills(billId).versions()\n```\n\nHTTP\n```\n/api/bills/:id/versions\n```\n\n#### Votes\nJavaScript\n```js\nomnibus.bills(billId).votes()\n```\n\nHTTP\n```\n/api/bills/:id/votes\n```\n\n### Congress API\nThe \"id\" associated with a given Congress is it's number. The current Congress is 113.\n\n#### Enacted\nJavaScript\n```js\nomnibus.congress(id).enacted()\n```\n\nHTTP\n```\n/api/congress/:id/enacted\n```\n### Votes API\n\n#### By Month\nThe \"id\" associated with a given month is the month in `YYYY-MM` format.\n\nJavaScript\n```js\nomnibus.votes(id).month()\n```\n\nHTTP\n```\n/api/votes/:id\n```\n","starsCount":1,"created":"2014-08-14T22:28:22.162Z","modified":"2017-07-14T23:16:22.224Z","lastPublisher":{"name":"nickbottomley","email":"nhbottomley@gmail.com"},"owners":[{"email":"nhbottomley@gmail.com","name":"nickbottomley"},{"email":"wlabranche@gmail.com","name":"wlabranche"}],"other":{"_attachments":{},"_from":"./","_id":"omnibus","_npmUser":{"name":"nickbottomley","email":"nhbottomley@gmail.com"},"_npmVersion":"1.4.21","_rev":"2-ff3baef51cb832196cb288348f07577b","_shasum":"7d1ed46b5a503c3b80787c96f2dc321859fc38fd","bugs":{"url":"https://github.com/omnibus-app/omnibus-backend/issues"},"directories":{},"dist-tags":{"latest":"0.1.5"},"dist":{"shasum":"7d1ed46b5a503c3b80787c96f2dc321859fc38fd","tarball":"http://registry.npmjs.org/omnibus/-/omnibus-0.1.5.tgz"},"maintainers":[{"email":"nhbottomley@gmail.com","name":"nickbottomley"},{"email":"wlabranche@gmail.com","name":"wlabranche"}],"readmeFilename":"README.md","time":{"modified":"2017-07-14T23:16:22.224Z","created":"2014-08-14T22:28:22.162Z","0.0.0":"2014-08-14T22:28:22.162Z","0.1.0":"2014-08-21T22:20:49.239Z","0.1.1":"2014-08-21T22:40:27.141Z","0.1.2":"2014-08-21T23:17:54.885Z","0.1.31":"2014-08-22T03:43:10.114Z","0.1.311":"2014-08-22T18:06:22.831Z","0.1.4":"2014-08-23T03:09:45.045Z","0.1.5":"2014-08-25T22:18:47.520Z"},"users":{"wlabranche":true}}}