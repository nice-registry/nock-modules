{"name":"apish","description":"Mock APIs and Services from API Blueprint or Swagger","main":"dist/apish.js","scripts":{"precommit":"npm test && npm run coverage && npm run build","prepublish":"npm test && npm run coverage && npm run build","build":"rimraf dist && babel src --out-dir dist","coverage":"babel-node node_modules/isparta/bin/isparta cover node_modules/mocha/bin/_mocha --report lcovonly -- -R spec --timeout 10000","coveralls":"npm run coverage && coveralls < coverage/lcov.info && codeclimate-test-reporter < coverage/lcov.info && rimraf coverage","test":"npm run build && npm run test-server","test-server":"mocha --recursive --timeout 10000 --compilers js:babel-core/register --bail --require mocha.config.js","tdd":"npm run test-server -- --watch","semantic-release":"semantic-release pre && npm publish && semantic-release post"},"repository":"https://github.com/JackuB/apish","keywords":["api","mock","nock","testing","blueprint","swagger","apiary"],"files":["dist","src"],"engines":{"node":">=0.12"},"license":"MIT","dependencies":{"bluebird":"^3.1.1","deckardcain":"^0.3.2","drafter.js":"^2.5.0","fury":"^2.1.0","fury-adapter-swagger":"^0.9.5","lodash":"^4.13.1","lodash-api-description":"0.0.2","nock":"^8.0.0","uri-template-lite":"^0.1.11","urijs":"^1.17.0"},"devDependencies":{"babel-cli":"^6.10.1","babel-core":"^6.10.4","babel-eslint":"^6.0.0","babel-loader":"^6.2.4","babel-preset-es2015":"^6.9.0","chai":"^3.2.0","codeclimate-test-reporter":"^0.3.0","commitizen":"^2.8.2","coveralls":"^2.11.4","cz-conventional-changelog":"^1.1.6","eslint":"^2.5.2","eslint-plugin-babel":"^3.2.0","hippie":"^0.5.0","husky":"^0.11.4","isparta":"^4.0.0","json-loader":"^0.5.4","mocha":"^2.3.3","mocha-lcov-reporter":"^1.0.0","request":"^2.72.0","rimraf":"^2.4.3","semantic-release":"^4.3.5","sinon":"^1.17.2","sinon-chai":"^2.8.0","webpack":"^1.13.1"},"config":{"commitizen":{"path":"node_modules/cz-conventional-changelog"}},"version":"1.2.12","gitHead":"eb6060f69c03ad2a2acbfcf4a966b5adf8c7fece","homepage":"https://github.com/JackuB/apish#readme","versions":[{"number":"0.0.0","date":"2014-04-25T23:49:13.399Z"},{"number":"0.0.1","date":"2014-09-23T01:17:41.050Z"},{"number":"0.0.2","date":"2014-09-23T03:02:13.417Z"},{"number":"1.0.0","date":"2016-01-20T00:35:56.716Z"},{"number":"1.0.1","date":"2016-01-20T16:55:33.752Z"},{"number":"1.0.2","date":"2016-01-20T17:04:43.653Z"},{"number":"1.1.0","date":"2016-01-23T22:30:52.552Z"},{"number":"1.2.0","date":"2016-01-23T22:48:34.548Z"},{"number":"1.2.1","date":"2016-01-23T22:58:33.201Z"},{"number":"1.2.2","date":"2016-01-23T23:14:46.303Z"},{"number":"1.2.3","date":"2016-01-23T23:20:08.591Z"},{"number":"1.2.4","date":"2016-01-23T23:39:08.219Z"},{"number":"1.2.5","date":"2016-01-23T23:47:21.807Z"},{"number":"1.2.6","date":"2016-01-24T00:23:10.245Z"},{"number":"1.2.7","date":"2016-01-24T00:27:25.530Z"},{"number":"1.2.8","date":"2016-01-24T00:34:06.298Z"},{"number":"1.2.9","date":"2016-01-24T11:02:07.181Z"},{"number":"1.2.10","date":"2016-01-30T01:46:13.093Z"},{"number":"1.2.11","date":"2016-02-14T20:40:53.955Z"},{"number":"1.2.12","date":"2016-10-03T11:23:18.964Z"}],"readme":"[![Build Status](https://img.shields.io/travis/JackuB/apish.svg)](https://travis-ci.org/JackuB/apish/)\n[![Coveralls Status](https://img.shields.io/coveralls/JackuB/apish.svg)](https://coveralls.io/github/JackuB/apish?branch=master)\n[![David dependencies]( https://img.shields.io/david/jackub/apish.svg)](https://david-dm.org/jackub/apish)\n[![npm downloads](https://img.shields.io/npm/dm/apish.svg)](https://www.npmjs.com/package/apish)\n\n![apish - Mock APIs and Services](readme.png)\n\nDescribe any API or Service you need mocked.\nSupports [API Blueprint](http://apiblueprint.org) and [Swagger](http://swagger.io) API Description formats.\n\n### Use cases\n#### 3rd party APIs\n\n- Your app is calling GitHub API, weather API, Trello API, …\n- Describe endpoints in API Description format like [API Blueprint](http://apiblueprint.org) \n(or ask API provider for API Description)\n- Add it as a test fixture and let apish create mock for you:\n\n```js\nbefore(() => {\n  return apish(fs.readFileSync('github-api.apib', 'utf8'));\n});\n\n// Run your tests with mocked requests against GitHub API\n```\n\n\n#### (Micro)services\n\n- Have all your services publish API Description onto (private) npm. Use [semver](http://semver.org) to version it\nand tools like [Dredd](https://github.com/apiaryio/dredd) to test its implementation\n- When you depend on another service, just require its package with API Description and run tests against its mocks, \nthat are always in sync with implementation\n- You can always compare version you've tested against to what is currently running in your environment\n\n```js\nimport myOtherService from 'myOtherService';\n\nbefore(() => {\n  return myOtherService = apish(myOtherService);\n});\n\n// Run your tests…\n```\n\n## Installation\n\n```\n$ npm i apish -D\n```\n\n## Usage\n```js\nimport apish from 'apish';\n\n// In your test runner\nlet mockResult = {};\nbefore(() => {\n  const apib = fs.readFileSync('github-api.apib', 'utf8');\n  return mockResult = apish(apib); // apish returns a Promise\n});\n\n// Cleanup\nafter(() => {\n  // .value() is Promise-related helper in this case\n  mockResult.value().restore();\n});\n```\n\n### Arguments\n\n```js\nconst mockedApi = apish(apiDescription, options);\n```\n\n- `apiDescription` (string) - [API Blueprint](http://apiblueprint.org) or [Swagger](http://swagger.io) API Description\n- `options` (OPTIONAL, object)\n  - `host` (string) - overwrite specified host (base URL) that should be used\n  \nreturns `Promise`\n\nResolved promise returns object with methods:\n\n- `restore()` - clears all mocks for this host\n\n## License\nMIT\n","starsCount":1,"created":"2014-04-25T23:49:13.399Z","modified":"2016-10-03T11:23:18.964Z","lastPublisher":{"name":"jackub","email":"jakub@mikul.as"},"owners":[{"name":"jackub","email":"jakub@mikul.as"}],"other":{"_attachments":{},"_from":".","_id":"apish","_nodeVersion":"6.7.0","_npmOperationalInternal":{"host":"packages-16-east.internal.npmjs.com","tmp":"tmp/apish-1.2.12.tgz_1475493797580_0.4521999629214406"},"_npmUser":{"name":"jackub","email":"jakub@mikul.as"},"_npmVersion":"3.10.3","_rev":"1-a16e133e2bb45a455a89210a8f1214c1","_shasum":"a5e0d44780518779805b615f62d660e5b144521b","author":{"name":"Jakub Mikulas","email":"jakub@mikul.as"},"bugs":{"url":"https://github.com/JackuB/apish/issues"},"directories":{},"dist-tags":{"latest":"1.2.12"},"dist":{"shasum":"a5e0d44780518779805b615f62d660e5b144521b","tarball":"http://registry.npmjs.org/apish/-/apish-1.2.12.tgz"},"maintainers":[{"name":"jackub","email":"jakub@mikul.as"}],"readmeFilename":"readme.md","time":{"modified":"2016-10-03T11:23:18.964Z","created":"2014-04-25T23:49:13.399Z","0.0.0":"2014-04-25T23:49:13.399Z","0.0.1":"2014-09-23T01:17:41.050Z","0.0.2":"2014-09-23T03:02:13.417Z","1.0.0":"2016-01-20T00:35:56.716Z","1.0.1":"2016-01-20T16:55:33.752Z","1.0.2":"2016-01-20T17:04:43.653Z","1.1.0":"2016-01-23T22:30:52.552Z","1.2.0":"2016-01-23T22:48:34.548Z","1.2.1":"2016-01-23T22:58:33.201Z","1.2.2":"2016-01-23T23:14:46.303Z","1.2.3":"2016-01-23T23:20:08.591Z","1.2.4":"2016-01-23T23:39:08.219Z","1.2.5":"2016-01-23T23:47:21.807Z","1.2.6":"2016-01-24T00:23:10.245Z","1.2.7":"2016-01-24T00:27:25.530Z","1.2.8":"2016-01-24T00:34:06.298Z","1.2.9":"2016-01-24T11:02:07.181Z","1.2.10":"2016-01-30T01:46:13.093Z","1.2.11":"2016-02-14T20:40:53.955Z","1.2.12":"2016-10-03T11:23:18.964Z"},"users":{"jackub":true}}}