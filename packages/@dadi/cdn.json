{"name":"@dadi/cdn","version":"1.11.2","description":"A high performance, just-in-time asset manipulation and delivery layer designed as a modern content distribution solution.","scripts":{"init":"validate-commit-msg","start":"node index.js --node_env=development","test":"standard 'dadi/**/*.js' && env NODE_ENV=test ./node_modules/.bin/istanbul cover -x '**/workspace/**' --report cobertura --report text --report html --report lcov ./node_modules/mocha/bin/_mocha test -- --require babel-register","postinstall":"node ./scripts/copy-config.js","posttest":"./scripts/coverage.js"},"dependencies":{"@dadi/cache":"1.5.x","@dadi/logger":"latest","@dadi/status":"latest","accept-language-parser":"^1.2.0","aspect-fill":"^1.0.1","aspect-fit":"^1.0.2","async":"^2.0.1","aws-sdk":"2.5.4","bluebird":"latest","body-parser":"~1.17.1","busboy":"^0.2.13","chokidar":"^1.x.x","cloudfront":"~0.4.0","color-namer":"^1.1.0","colors":"^1.1.2","concat-stream":"^1.5.1","console-stamp":"^0.2.2","convict":"^2.0.0","etag":"^1.7.0","exif":"^0.6.0","exif2":"0.0.1","finalhandler":"~1.0.0","gzip-size":"^3.0.0","he":"^1.1.0","images":"^3.0.0","imagesize":"~1.0.0","length-stream":"~0.1.1","lwip":"git+https://github.com/pajk/lwip.git","maxmind":"^1.1.0","mime":"^1.3.4","mkdirp":"^0.5.1","nock":"^9.0.2","node-minify":"^2.0.0-beta.1","node-persist":"~2.0.2","node-vibrant":"^2.1.2","request":"~2.81.0","request-promise":"^4.1.1","router":"~1.3.0","sha1":"~1.1.1","smartcrop-lwip":"git+https://github.com/eduardoboucas/smartcrop-lwip.git","sqwish":"^0.2.2","stream-length":"^1.0.2","streamifier":"^0.1.1","ua-parser-js":"^0.7.10","uglifyjs":"^2.4.10","underscore":"~1.8.3","url-join":"^1.1.0","uuid":"latest","validate-commit-message":"^3.0.1","wget-improved":"git+https://github.com/jimlambie/node-wget.git"},"devDependencies":{"aws-sdk-mock":"^1.5.0","babel-register":"^6.18.0","env-test":"^1.0.0","fakeredis":"^2.0.0","greenkeeper-postpublish":"^1.0.1","istanbul":"^1.1.0-alpha.1","istanbul-cobertura-badger":"^1.2.1","mocha":"^3.2.0","proxyquire":"~1.7.4","redis":"^2.6.3","should":"~11.2.1","sinon":"~1.17.5","standard":"8.x.x","supertest":"~2.0.0"},"greenkeeper":{"ignore":["standard","mocha","aws-sdk"]},"repository":"https://github.com/dadi/cdn","homepage":"https://github.com/dadi/cdn","license":"SEE LICENSE IN GPL.md","gitHead":"f67657efc82787e83c879ff751e02d47cbdb7708","versions":[{"number":"1.0.0","date":"2016-05-23T10:24:28.008Z"},{"number":"1.0.1","date":"2016-05-23T10:29:28.660Z"},{"number":"1.0.2","date":"2016-05-23T15:35:15.527Z"},{"number":"1.0.3","date":"2016-05-23T16:17:26.854Z"},{"number":"1.0.4","date":"2016-05-25T09:30:25.324Z"},{"number":"1.1.0","date":"2016-06-07T10:23:28.137Z"},{"number":"1.2.0","date":"2016-06-21T05:59:57.656Z"},{"number":"1.2.1","date":"2016-06-22T02:23:54.095Z"},{"number":"1.3.0","date":"2016-07-01T12:25:45.516Z"},{"number":"1.3.1","date":"2016-07-04T07:52:54.876Z"},{"number":"1.4.0","date":"2016-07-05T23:45:14.968Z"},{"number":"1.4.1","date":"2016-07-06T11:17:16.681Z"},{"number":"1.4.2","date":"2016-07-20T01:15:48.686Z"},{"number":"1.4.3","date":"2016-07-20T02:00:57.868Z"},{"number":"1.4.4","date":"2016-07-20T03:09:52.192Z"},{"number":"1.4.5","date":"2016-07-20T15:40:05.354Z"},{"number":"1.4.6","date":"2016-07-20T15:48:33.111Z"},{"number":"1.4.7","date":"2016-07-21T05:26:44.281Z"},{"number":"1.4.8","date":"2016-07-22T00:23:06.650Z"},{"number":"1.4.9","date":"2016-07-26T08:33:38.956Z"},{"number":"1.5.0","date":"2016-08-04T09:13:13.857Z"},{"number":"1.6.0","date":"2016-08-22T10:08:21.721Z"},{"number":"1.6.1","date":"2016-09-23T09:29:34.037Z"},{"number":"1.6.2","date":"2016-10-22T02:53:18.563Z"},{"number":"1.7.0","date":"2017-01-05T12:47:15.005Z"},{"number":"1.7.1","date":"2017-01-08T00:21:47.920Z"},{"number":"1.7.2","date":"2017-01-13T06:04:34.708Z"},{"number":"1.7.3","date":"2017-01-17T09:45:42.256Z"},{"number":"1.7.4","date":"2017-01-18T09:22:12.993Z"},{"number":"1.8.0","date":"2017-01-18T10:57:02.390Z"},{"number":"1.8.1","date":"2017-01-24T00:37:52.153Z"},{"number":"1.8.2","date":"2017-02-01T06:22:37.802Z"},{"number":"1.9.0","date":"2017-02-17T01:51:54.493Z"},{"number":"1.10.0","date":"2017-02-17T02:26:38.305Z"},{"number":"1.10.1","date":"2017-03-05T11:55:36.410Z"},{"number":"1.10.2","date":"2017-03-07T12:41:48.488Z"},{"number":"1.10.3","date":"2017-03-10T04:03:47.444Z"},{"number":"1.11.0","date":"2017-03-21T10:02:58.452Z"},{"number":"1.11.1","date":"2017-03-22T02:35:43.485Z"},{"number":"1.11.2","date":"2017-05-30T10:09:57.230Z"},{"number":"1.12.0","date":"2017-08-09T13:37:04.829Z"}],"readme":"<img src=\"https://dadi.tech/assets/products/dadi-cdn-full.png\" alt=\"DADI CDN\" height=\"65\"/>\n\n[![npm (scoped)](https://img.shields.io/npm/v/@dadi/cdn.svg?maxAge=10800&style=flat-square)](https://www.npmjs.com/package/@dadi/cdn)\n[![coverage](https://img.shields.io/badge/coverage-69%25-yellow.svg?style=flat-square)](https://github.com/dadi/cdn)\n[![Build Status](https://travis-ci.org/dadi/cdn.svg?branch=master)](https://travis-ci.org/dadi/cdn)\n[![JavaScript Style Guide](https://img.shields.io/badge/code%20style-standard-brightgreen.svg?style=flat-square)](http://standardjs.com/)\n\n## DADI CDN\n\n* [Overview](#overview)\n* [Requirements](#requirements)\n* [Your First CDN Project](#your-first-cdn-project)\n* [Links](#links)\n\n## Overview\n\nDADI CDN is built on Node.JS, with support for S3 and Redis. It is a high performance, just-in-time asset manipulation and delivery layer designed as a modern content distribution solution.\n\nYou can consider a full installation of DADI CDN as being analogous to a traditional CDN (Content Distribution Network) such as Akamai or Limelight. It is designed to carry the processing and delivery load associated with image manipulation and asset delivery (CSS/JS/fonts). It acts autonomously as a layer on top of your core product.\n\nIt has full support for caching, header control, image manipulation, image compression and image format conversion; image recipes allow for SEO-friendly URLs; dynamic routing allows for media manipulation based on what is known about an individual; and an authenticated API allows for fine grained cache control in the form of content invalidation on an individual file or collective path basis.\n\nCDN is part of DADI, a suite of components covering the full development stack, built for performance and scale.\n\n## Requirements\n\n* **[Node.js](https://www.nodejs.org/)** (supported versions: 4.7.0, 5.12.0, 6.9.2)\n\n## Your first CDN project\n\n### Install dependencies\n\nEnsure you have the required dependencies installed. See the first sections in the CDN  [installation](http://docs.dadi.tech/cdn/getting-started/installing/) documentation.\n\n### Install CDN\n\nAll DADI platform microservices are available from [NPM](https://www.npmjs.com/). To add *CDN* to your project as a dependency:\n\n```bash\n$ cd my-app\n$ npm install --save @dadi/cdn\n```\n\n### Add an entry point\n\nYou'll need an entry point for your project. We'll create a file called `index.js` and later we will start the application with `node index.js`. Add the following to the new file:\n\n```js\n/**\n *  index.js\n */\nvar app = require('@dadi/cdn')\n```\n\n### Start the server\n\nCDN can be started from the command line simply by issuing the following command:\n\n```bash\n$ node index.js\n```\n\nWith the default configuration, our CDN server is available at http://localhost:8001. Visiting this URL will display a welcome message.\n\n### Configuration\n\nCDN requires a configuration file specific to the application environment. For example in the production environment it will look for a file named `config.production.json`.\n\nWhen CDN was installed, a development configuration file was created for you in a `config` folder at your application root. Full configuration documentation can be found at http://docs.dadi.tech/cdn/getting-started/configuration/.\n\n\n### Run CDN as a service\nTo run your CDN application in the background as a service, install Forever and Forever Service:\n\n```bash\n$ npm install forever forever-service -g\n\n$ forever-service install -s index.js -e NODE_ENV=production cdn --start\n```\n\n> Note: the environment variable `NODE_ENV=production` must be set to required the configuration version matching the configuration files available in the `config` directory.\n\n### Configuring an image source\n\nBefore you can serve assets or images you need to tell CDN where your files are located. Currently, CDN can serve your files from three types of source: [Amazon S3](http://docs.dadi.tech/cdn/getting-started/defining-sources/#-amazon-s3-https-aws-amazon-com-s3-), [a remote server](http://docs.dadi.tech/cdn/getting-started/defining-sources/#remote-server), and the [the local filesystem](http://docs.dadi.tech/cdn/getting-started/defining-sources/#local-filesystem). We'll start using the local filesystem, but see the [full documentation](http://docs.dadi.tech/cdn/getting-started/defining-sources) for details on using the other source types.\n\nThe sample configuration file defines a local filesystem source. The `path` property is set to use an directory called `images` at the root of your application. CDN will look for your files at the location defined in this `path` property every time it handles a request.\n\n#### Example\n\n```json\n{\n  \"server\": {\n    \"host\": \"127.0.0.1\",\n    \"port\": 8001\n  },\n  \"images\": {\n    \"directory\": {\n      \"enabled\": true,\n      \"path\": \"./images\"\n    }\n  }\n}\n```\n\nWe'll use the above configuration for an example. With image files in the `images` directory  we can make a request for one to view it in the browser:\n\n##### Images available\n\n```bash\n$ my-app/images  ls -la\ntotal 9464\ndrwxr-xr-x  4 root  wheel      136 13 Mar 13:02 .\ndrwxr-xr-x  4 root  wheel      136 13 Mar 13:01 ..\n-rw-r--r--  1 root  wheel     9396 13 Mar 13:02 92875.jpg\n-rw-r--r--  1 root  wheel  4832710 13 Mar 13:02 92876.jpg\n```  \n\n##### Browser request\n\nhttp://127.0.0.1:8001/92875.jpg\n\n## Links\n* [CDN Documentation](http://docs.dadi.tech/cdn/)\n\n## Licence\n\nDADI is a data centric development and delivery stack, built specifically in support of the principles of API first and COPE.\n\nCopyright notice<br />\n(C) 2017 DADI+ Limited <support@dadi.tech><br />\nAll rights reserved\n\nThis product is part of DADI.<br />\nDADI is free software: you can redistribute it and/or modify\nit under the terms of the GNU General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version (\"the GPL\").\n\n**If you wish to use DADI outside the scope of the GPL, please\ncontact us at info@dadi.co for details of alternative licence\narrangements.**\n\n**This product may be distributed alongside other components\navailable under different licences (which may not be GPL). See\nthose components themselves, or the documentation accompanying\nthem, to determine what licences are applicable.**\n\nDADI is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU General Public License for more details.\n\nThe GNU General Public License (GPL) is available at\nhttp://www.gnu.org/licenses/gpl-3.0.en.html.<br />\nA copy can be found in the file GPL.md distributed with\nthese files.\n\nThis copyright notice MUST APPEAR in all copies of the product!\n","created":"2016-05-23T10:24:28.008Z","modified":"2017-08-09T13:37:04.829Z","lastPublisher":{"name":"jimlambie","email":"jameslambie@gmail.com"},"owners":[{"email":"jameslambie@gmail.com","name":"jimlambie"},{"email":"support@dadi.co","name":"josephdenne"}],"other":{"_attachments":{},"_from":".","_id":"@dadi/cdn","_nodeVersion":"6.9.2","_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/cdn-1.11.2.tgz_1496138996912_0.8403641395270824"},"_npmUser":{"name":"jimlambie","email":"jameslambie@gmail.com"},"_npmVersion":"3.10.9","_rev":"20-bec24af80b465c6554076816cef3565d","_shasum":"e6900a6c705af7819f334e8c106f9693a7a6862a","author":{"name":"DADI","email":"team@dadi.tech"},"bugs":{"url":"https://github.com/dadi/cdn/issues"},"directories":{"test":"test"},"dist-tags":{"latest":"1.11.2","beta":"1.12.0"},"dist":{"shasum":"e6900a6c705af7819f334e8c106f9693a7a6862a","tarball":"https://registry.npmjs.org/@dadi/cdn/-/cdn-1.11.2.tgz"},"maintainers":[{"email":"jameslambie@gmail.com","name":"jimlambie"},{"email":"support@dadi.co","name":"josephdenne"}],"readmeFilename":"README.md","time":{"modified":"2017-08-09T13:37:04.829Z","created":"2016-05-23T10:24:28.008Z","1.0.0":"2016-05-23T10:24:28.008Z","1.0.1":"2016-05-23T10:29:28.660Z","1.0.2":"2016-05-23T15:35:15.527Z","1.0.3":"2016-05-23T16:17:26.854Z","1.0.4":"2016-05-25T09:30:25.324Z","1.1.0":"2016-06-07T10:23:28.137Z","1.2.0":"2016-06-21T05:59:57.656Z","1.2.1":"2016-06-22T02:23:54.095Z","1.3.0":"2016-07-01T12:25:45.516Z","1.3.1":"2016-07-04T07:52:54.876Z","1.4.0":"2016-07-05T23:45:14.968Z","1.4.1":"2016-07-06T11:17:16.681Z","1.4.2":"2016-07-20T01:15:48.686Z","1.4.3":"2016-07-20T02:00:57.868Z","1.4.4":"2016-07-20T03:09:52.192Z","1.4.5":"2016-07-20T15:40:05.354Z","1.4.6":"2016-07-20T15:48:33.111Z","1.4.7":"2016-07-21T05:26:44.281Z","1.4.8":"2016-07-22T00:23:06.650Z","1.4.9":"2016-07-26T08:33:38.956Z","1.5.0":"2016-08-04T09:13:13.857Z","1.6.0":"2016-08-22T10:08:21.721Z","1.6.1":"2016-09-23T09:29:34.037Z","1.6.2":"2016-10-22T02:53:18.563Z","1.7.0":"2017-01-05T12:47:15.005Z","1.7.1":"2017-01-08T00:21:47.920Z","1.7.2":"2017-01-13T06:04:34.708Z","1.7.3":"2017-01-17T09:45:42.256Z","1.7.4":"2017-01-18T09:22:12.993Z","1.8.0":"2017-01-18T10:57:02.390Z","1.8.1":"2017-01-24T00:37:52.153Z","1.8.2":"2017-02-01T06:22:37.802Z","1.9.0":"2017-02-17T01:51:54.493Z","1.10.0":"2017-02-17T02:26:38.305Z","1.10.1":"2017-03-05T11:55:36.410Z","1.10.2":"2017-03-07T12:41:48.488Z","1.10.3":"2017-03-10T04:03:47.444Z","1.11.0":"2017-03-21T10:02:58.452Z","1.11.1":"2017-03-22T02:35:43.485Z","1.11.2":"2017-05-30T10:09:57.230Z","1.12.0":"2017-08-09T13:37:04.829Z"}}}