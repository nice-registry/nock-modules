{"name":"api-caf","version":"0.2.2","description":"API CAF","license":"MIT","scripts":{"lint":"eslint lib test *.js","start":"node server","test:unit":"mocha test","test:lint":"eslint --ignore-path .gitignore *.js **/*.js","test":"npm run test:unit && npm run test:lint"},"dependencies":{"cors":"^2.6.0","express":"^4.12.3","morgan":"^1.7.0","nock":"^9.0.13","proxyquire":"^1.7.11","request":"^2.55.0","request-promise-native":"^1.0.3","thenify":"^3.2.1","xml2js":"^0.4.16"},"devDependencies":{"chai":"^3.5.0","eslint":"^3.19.0","eslint-config-standard":"^10.2.1","eslint-plugin-import":"^2.2.0","eslint-plugin-mocha":"^4.9.0","eslint-plugin-node":"^4.2.2","eslint-plugin-promise":"^3.5.0","eslint-plugin-standard":"^3.0.1","mocha":"^3.1.0"},"gitHead":"3f738b7870bf0dc7fdd65795b06d8cd601a4ec0c","versions":[{"number":"0.1.0","date":"2017-03-20T09:48:32.217Z"},{"number":"0.1.1","date":"2017-03-20T13:12:10.758Z"},{"number":"0.2.0","date":"2017-05-17T14:04:50.052Z"},{"number":"0.2.2","date":"2017-06-23T09:17:10.892Z"}],"readme":"# API CAF\n\nAccéder simplement aux informations concernant une famille allocataire de la [CAF](http://www.caf.fr/).\n\n## Informations pouvant être obtenues\n\n* Quotient familial\n* Adresse connue\n* Nom, prénom, sexe et date de naissance des allocataires\n* Nom, prénom, sexe et date de naissance des enfants à charge\n\nCes informations sont délivrées de façon sécurisée, sur la base du numéro d'allocataire et du code postal.\n\nLes données sont mises à jour de façon mensuelle.\n\n## Installation et utilisation\n\n### Pré-requis\n\n* [Node.js](https://nodejs.org) version 6 ou supérieure\n* [yarn](https://yarnpkg.com)\n\n### Configuration\n\nPour utiliser ce projet, vous devez créer un fichier `config.json`. Vous pouvez pour cela vous inspirer du fichier `config.example.json`.\n\n| Clé | Description | Exemple |\n| --- | --- | --- |\n| `port` | Port d'écoute du serveur HTTP | `5000` (valeur par défaut) |\n| `cafHost` | Hôte du service CAF | `https://caf-host` |\n| `cafSslCertificate` | Chemin vers le certificat permettant de se connecter au service CAF | `/path/to/cert` |\n| `cafSslKey` | Chemin vers la clé permettant de se connecter au service CAF | `/path/to/key` |\n| `cafPingParams.numeroAllocataire` | Numéro d'allocataire à utiliser pour le service de PING | `1234567` |\n| `cafPingParams.codePostal` | Code postal à utiliser pour le service de PING | `12345` |\n\n### Installation des dépendances\n\n```bash\nyarn\n```\n\n### Lancement du service\n\n```bash\nyarn start\n```\n\n### Lancer les tests\n\n```bash\nyarn test\n```\n\n## Documentation de l'API\n\n**Pour obtenir les informations concernant une famille :**\n\n*Requête :*\n\n`GET /api/famille?numeroAllocataire=123456&codePostal=92330`\n\n*Réponse :*\n\n```json\n{\n  \"allocataires\": [\n    {\n      \"nomPrenom\": \"ALICE DUPONT\",\n      \"dateDeNaissance\": \"01011980\",\n      \"sexe\": \"F\"\n    },\n    {\n      \"nomPrenom\": \"FRANCIS DUPONT\",\n      \"dateDeNaissance\": \"01011984\",\n      \"sexe\": \"M\"\n    }\n  ],\n  \"enfants\": [\n    {\n      \"nomPrenom\": \"BOB DUPONT\",\n      \"dateDeNaissance\": \"01012005\",\n      \"sexe\": \"M\"\n    }\n  ],\n  \"adresse\": {\n    \"identite\": \"Madame ALICE DUPONT\",\n    \"complementIdentiteGeo\": \"ENTREE C\",\n    \"numeroRue\": \"9 IMPASSE DES ACACIAS\",\n    \"codePostalVille\": \"92330 SCEAUX\",\n    \"pays\": \"FRANCE\"\n  },\n  \"quotientFamilial\": 1850,\n  \"mois\": 1,\n  \"annee\": 2017\n}\n```\n\n**Pour vérifier la disponibilité du service**\n\n*Requête :*\n\n`GET /api/ping`\n\n*Réponse :*\n\n* `pong` si le service fonctionne\n* `boom` sinon\n","created":"2017-03-20T09:48:32.217Z","modified":"2017-06-23T09:17:10.892Z","lastPublisher":{"name":"floby","email":"florent.jaby@gmail.com"},"owners":[{"email":"florent.jaby@gmail.com","name":"floby"},{"email":"jerome.desboeufs@gmail.com","name":"jdesboeufs"}],"other":{"_attachments":{},"_id":"api-caf","_nodeVersion":"8.1.2","_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/api-caf-0.2.2.tgz_1498209429787_0.7491109024267644"},"_npmUser":{"name":"floby","email":"florent.jaby@gmail.com"},"_npmVersion":"5.0.3","_rev":"5-3bcffbd17e08306117deb1d055782233","author":{"name":"tech@particulier.api.gouv.fr"},"directories":{},"dist-tags":{"latest":"0.2.2"},"dist":{"integrity":"sha512-pUCzb4mNcZSYa6+dsK+MysFhUq+hIadUIbNVohDQjvI0tqVHecGKuORT0BsHlN8st65vtH0q/JBTjLxbAIsf3g==","shasum":"7cfd2ae55bc4c7005262eb8f15a699d62c3a33e3","tarball":"https://registry.npmjs.org/api-caf/-/api-caf-0.2.2.tgz"},"maintainers":[{"email":"florent.jaby@gmail.com","name":"floby"},{"email":"jerome.desboeufs@gmail.com","name":"jdesboeufs"}],"readmeFilename":"README.md","time":{"modified":"2017-06-23T09:17:10.892Z","created":"2017-03-20T09:48:32.217Z","0.1.0":"2017-03-20T09:48:32.217Z","0.1.1":"2017-03-20T13:12:10.758Z","0.2.0":"2017-05-17T14:04:50.052Z","0.2.2":"2017-06-23T09:17:10.892Z"}}}