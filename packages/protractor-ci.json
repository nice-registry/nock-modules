{"name":"protractor-ci","version":"0.0.2-alpha6","description":"Easily run protactor using Travis CI and Sauce Labs.","main":"src/index.js","scripts":{"test":"npm test"},"repository":"https://github.com/lynndylanhurley/protractor-ci","keywords":["E2E","protractor","sauce","labs","travis","ci","nock"],"dependencies":{"request":"~2.36.0","nock":"~0.48.2","q":"~1.0.1","mkdirp":"~0.5.0","sauce-connect-launcher":"~0.7.0","path":"~0.4.9","fs":"~0.0.2","gulp-util":"~3.0.1","coffee-script":"~1.8.0","protractor":"~1.3.1"},"license":"WTFPL","homepage":"https://github.com/lynndylanhurley/protractor-ci","gitHead":"34cf959a882fc56870552ed66cf5f19d3c8bce4a","versions":[{"number":"0.0.1","date":"2014-11-03T21:50:50.727Z"},{"number":"0.0.2-alpha1","date":"2014-11-03T23:06:00.262Z"},{"number":"0.0.2-alpha2","date":"2014-11-05T18:36:11.057Z"},{"number":"0.0.2-alpha3","date":"2014-11-05T19:57:12.681Z"},{"number":"0.0.2-alpha4","date":"2014-11-06T22:41:14.793Z"},{"number":"0.0.2-alpha5","date":"2014-11-12T02:34:33.505Z"},{"number":"0.0.2-alpha6","date":"2014-11-12T07:30:39.042Z"}],"readme":"# Protractor CI\n\n[![npm version](https://badge.fury.io/js/protractor-ci.svg)](http://badge.fury.io/js/protractor-ci)\n\n# Warning\n\nThis project is **alpha** status. Use at your own risk.\n\n# Goals\n\n* Run E2E tests against all target browsers.\n* Run E2E tests on Travis CI.\n* Mock requests to external APIs (semi-automatically).\n\n# Installation\n\n~~~bash\nnpm install protractor-ci --save-dev\n~~~\n\n# Workflow\n\n1. [Run E2E tests against locally against live dev API](#run-local-e2e-tests)\n   This step records all external API requests for later playback.\n\n2. [Verify test playback](#playback-e2e-tests)\n   Uses the recorded mock requests from step 1.\n\n3. [Run E2E tests against Sauce Labs](#playback-e2e-tests-using-saucelabs)\n   Uses the recorded mock requests from step 1.\n\n4. [Run E2E tests on Travis CI on deployment](#travis-ci-setup)\n   Uses the recorded mock requests from step 1.\n\n# Run Local E2E Tests\n\nDefine the task:\n\n~~~javascript\nvar pXor = require('protractor-ci');\n\ngulp.task('test:e2e:record', function(cb) {\n  var opts = {\n    nodeApp:   'test/app.js',\n    nodeHost:  'localhost',\n    nodePort:  7777,\n    record:    true,\n    mockFile:  'mocks/nock-mocks.json',\n    specs: [\n      'test/e2e/*.coffee'\n    ]\n  };\n\n  pXor.e2e.testE2E(opts).then(function() { cb(); });\n});\n~~~\n\nRun the task:\n\n~~~bash\ngulp test:e2e:record\n~~~\n\n# Playback E2E Tests\n\nDefine the task:\n\n~~~javascript\nvar pXor = require('protractor-ci');\n\ngulp.task('test:e2e:playback', function(cb) {\n  var opts = {\n    nodeApp:   'test/app.js',\n    nodeHost:  'localhost',\n    nodePort:  7777,\n    playback:  true,\n    mockFile:  'mocks/nock-mocks.json',\n    specs: [\n      'test/e2e/*.coffee'\n    ]\n  };\n\n  pXor.e2e.testE2E(opts).then(function() { cb(); });\n});\n~~~\n\nRun the task:\n\n~~~bash\ngulp test:e2e:playback\n~~~\n\n# Playback E2E Tests using SauceLabs\n\n~~~javascript\nvar pXor = require('protractor-ci');\n\n// define task to start sauce connect\ngulp.task('start-sauce-connect', function(cb) {\n  pXor.e2e.startSauceConnect().then(function() { cb(); });\n});\n\n// define test runner\ngulp.task('test:e2e:ci', function(cb) {\n  var opts = {\n    nodeApp:   'test/app.js',\n    nodeHost:  'localhost',\n    nodePort:  7777,\n    playback:  true,\n    mockFile:  'mocks/nock-mocks.json',\n    specs: [\n      'test/e2e/*.coffee'\n    ],\n    browsers: [{\n      browserName:         'chrome',\n      build:               process.env.TRAVIS_BUILD_NUMBER,\n      'tunnel-identifier': process.env.TRAVIS_JOB_NUMBER\n    }, {\n      browserName:         'firefox',\n      build:               process.env.TRAVIS_BUILD_NUMBER,\n      'tunnel-identifier': process.env.TRAVIS_JOB_NUMBER\n    }, {\n      browserName:         'safari',\n      build:               process.env.TRAVIS_BUILD_NUMBER,\n      'tunnel-identifier': process.env.TRAVIS_JOB_NUMBER\n    }, {\n      browserName:         'internet explorer',\n      version:             11,\n      build:               process.env.TRAVIS_BUILD_NUMBER,\n      'tunnel-identifier': process.env.TRAVIS_JOB_NUMBER\n    }, {\n      browserName:         'internet explorer',\n      version:             10,\n      build:               process.env.TRAVIS_BUILD_NUMBER,\n      'tunnel-identifier': process.env.TRAVIS_JOB_NUMBER\n    }, {\n      browserName:         'internet explorer',\n      version:             9,\n      build:               process.env.TRAVIS_BUILD_NUMBER,\n      'tunnel-identifier': process.env.TRAVIS_JOB_NUMBER\n    }, {\n      browserName:         'internet explorer',\n      version:             8,\n      build:               process.env.TRAVIS_BUILD_NUMBER,\n      'tunnel-identifier': process.env.TRAVIS_JOB_NUMBER\n    }]\n  };\n\n  pXor.e2e.testE2E(opts).then(function() { cb() });\n});\n\n~~~\n\nNow open two terminal windows.\n\nIn the first terminal:\n\n~~~bash\ngulp start-sauce-connect\n~~~\n\nLeave the terminal open. The task will let you know when it's ready to start the tests.\n\nIn the second terminal:\n\n~~~bash\ngulp test:e2e:ci\n~~~\n\n# Travis CI Setup\n\nFirst follow [these instructions](https://docs.saucelabs.com/ci-integrations/travis-ci/).\n\nNext, make sure the `before_install` and `addons` blocks exist in your `.travis.yml` file:\n\n~~~yml\nlanguage: node_js\nnode_js:\n- 'x.xx'\n\nenv:\n  global:\n  - secure: xxx\n  - secure: yyy\n  - NODE_ENV=travis\n\naddons:\n  sauce_connect: true\n\ncache:\n  directories:\n    - node_modules\n\nbefore_install:\n- npm install\n- node_modules/.bin/bower install --config.directory=path/to/test/server\n~~~\n\nThe goal is to ensure that the dev server has everything it needs to be run by Travis. More steps may be required depending on your application.\n\nThen, in your `package.json` file:\n\n~~~javascript\n{\n  // ...\n  \"scripts\": {\n    \"test\": \"gulp test:e2e:ci\"\n  },\n  // ...\n}\n~~~\n","starsCount":1,"created":"2014-11-03T21:50:50.727Z","modified":"2014-11-12T07:30:39.042Z","lastPublisher":{"name":"lynndylanhurley","email":"lynn.dylan.hurley@gmail.com"},"owners":[{"name":"lynndylanhurley","email":"lynn.dylan.hurley@gmail.com"}],"other":{"_attachments":{},"_from":".","_id":"protractor-ci","_nodeVersion":"0.10.32","_npmUser":{"name":"lynndylanhurley","email":"lynn.dylan.hurley@gmail.com"},"_npmVersion":"2.1.4","_rev":"1-9c7a0d03474976266b68e3216594e064","_shasum":"6a6a58ee8b4bb9e02981ff35f79844575458eacf","author":{"name":"Lynn Dylan Hurley"},"bugs":{"url":"https://github.com/lynndylanhurley/protractor-ci/issues"},"directories":{},"dist-tags":{"latest":"0.0.2-alpha6"},"dist":{"shasum":"6a6a58ee8b4bb9e02981ff35f79844575458eacf","tarball":"http://registry.npmjs.org/protractor-ci/-/protractor-ci-0.0.2-alpha6.tgz"},"maintainers":[{"name":"lynndylanhurley","email":"lynn.dylan.hurley@gmail.com"}],"readmeFilename":"README.md","time":{"modified":"2014-11-12T07:30:39.042Z","created":"2014-11-03T21:50:50.727Z","0.0.1":"2014-11-03T21:50:50.727Z","0.0.2-alpha1":"2014-11-03T23:06:00.262Z","0.0.2-alpha2":"2014-11-05T18:36:11.057Z","0.0.2-alpha3":"2014-11-05T19:57:12.681Z","0.0.2-alpha4":"2014-11-06T22:41:14.793Z","0.0.2-alpha5":"2014-11-12T02:34:33.505Z","0.0.2-alpha6":"2014-11-12T07:30:39.042Z"},"users":{"n370":true}}}